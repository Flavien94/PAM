{% extends '::base.html.twig' %}
{% block stylesheets %}
  {{ parent() }}
  <link href="{{ asset('css/event/new.css') }}" type="text/css" rel="stylesheet"/>
{% endblock %}
{% block body -%}

  <div class="container event3-container">
    <div class="row">
      <h1>Publier un événement</h1>
    </div>
    {% if (entity.author == app.user.username or is_granted("ROLE_SUPER_ADMIN")) %}
      {{ form_start(edit_form) }}

    <div class="row contact center">
      <div class="col-md-12">
        <hr>
        <STRONG>Contact de l'évènement :
        </STRONG><a class="hidden-xs hidden-sm picto-item" href="#" aria-label="Personne à contacter en cas de besoin de renseignements supplémentaires"><span class="glyphicon glyphicon-info-sign"></a>
        <br class="visible-xs visible-sm">
        {{ form_widget(edit_form.contact_name, { 'attr': {'class': 'inline contact_name', 'placeholder': 'Nom du contact','tabindex':'1'} })  }}
        {{ form_widget(edit_form.contact_email, { 'attr': {'class': 'inline contact_email', 'placeholder': 'Email du contact','tabindex':'2'} }) }}
        <span class="hidden">
          {{ form_widget(edit_form.author,{ 'attr': {'value': app.user.username, 'readonly':'readonly'}}
          ) }}
        </span>
        <hr>
      </div>
    </div>

    <div class="row date center">
      <strong class="col-xs-12 col-md-2 date">
      <a class="hidden-xs hidden-sm picto-item" href="#" aria-label="Les dates de début et de fin de l'événement sont obligatoires. Les heures ne le sont pas."><span class="glyphicon glyphicon-info-sign"></a>  Date de début* :
      </strong>
      {{ form_widget(edit_form.dateStart,{'attr':{'class': 'col xs-12 col-md-2 center','tabindex':'3'}}) }}
      {{ form_widget(edit_form.timeStart,{'attr':{'class': 'col xs-12 col-md-2 center','tabindex':'4'}}) }}
      <strong class="col-xs-12 col-md-2">
        Date de fin* :
      </strong>
      {{ form_widget(edit_form.dateEnd,{'attr':{'class': 'col xs-12 col-md-2 center','tabindex':'5'}}) }}
      {{ form_widget(edit_form.timeEnd,{'attr':{'class': 'col xs-12 col-md-2 center','tabindex':'6'}}) }}
    </div>

    <div class="row center">
      <div class="col-md-12 selection">
        <div class="row">
          <strong class="hidden-xs hidden-sm strong">Sélectionnez le</strong>
          <strong class="visible-xs visible-sm">Sélectionnez :</strong>
          {{ form_widget(edit_form.sector, { 'attr': {'class': 'btn btn-default center','tabindex':'7'}}) }}
          <strong class="hidden-xs hidden-sm strong">le</strong>
          {{ form_widget(edit_form.publics, { 'attr': {'class': 'btn btn-default center','tabindex':'8'}}) }}
          <strong class="hidden-xs hidden-sm strong">
            et le
          </strong>
          {{ form_widget(edit_form.type, { 'attr': {'class': 'btn btn-default center','tabindex':'9'}}) }}
        </div>
      </div>
    </div>

    <div class="row">
      <hr>
    </div>


    <div class="row">
    <div class="col-md-7 description center">
      <a class="hidden-xs hidden-sm picto-item" href="#" aria-label='Les champs "Titre" et "Description" doivent être rempli.'><span class="glyphicon glyphicon-info-sign"></a><h4 class="center">Description</h4>

      <div class="row">

        <div class="col-md-12">
          {{ form_widget(edit_form.title, { 'attr': {'id': 'title','class':'col-md-12 title', 'placeholder': 'Titre*','tabindex':'10'}}) }}
        </div>

        <div class="col-md-12">
          {{ form_widget(edit_form.description, { 'attr': {'class': 'inline col-md-12', 'placeholder': 'Description*','tabindex':'11'}}) }}
        </div>

        <div class="col-md-12">
          {{ form_errors(edit_form.contact_name, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
          {{ form_errors(edit_form.contact_email, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
          {{ form_errors(edit_form.dateStart, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
          {{ form_errors(edit_form.dateEnd, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
          {{ form_errors(edit_form.title, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
          {{ form_errors(edit_form.description, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
          {{ form_errors(edit_form.place, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
          {{ form_errors(edit_form.uploadedLinks, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
          {{ form_errors(edit_form.images, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
          {{ form_errors(edit_form.uploadedFiles, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
        </div>
        <div class="col-md-12 add">
          <div class="col-md-4">
            {{ form_widget(edit_form.uploadedLinks, { 'attr': {'class': 'btn-add-link inline','tabindex':'19'}}) }}
          </div>
          <div class="col-md-4">
            <strong>Brouillon</strong>
            <br>
            {{ form_widget(edit_form.scratch, { 'attr': {'class':'headlines-check','label':'À la une','tabindex':'20'} }) }}
          </div>
          <div class="col-md-4">
            <strong>À la une</strong>
            <br>
            {{ form_widget(edit_form.headlines, { 'attr': {'class':'headlines-check','label':'À la une','tabindex':'21'} }) }}
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-5 detail center">
      <div class="row">
        <div class="col-md-12  detail-top">
          <a class="hidden-xs hidden-sm picto-item" href="#" aria-label='Seuls les champs "Villes" et "Code Postal" sont obligatoires.'><span class="glyphicon glyphicon-info-sign"></a><h4 class="col-md-12 center">Adresse</h4>
          <div class="col-md-12 place center">
            {{ form_widget(edit_form.place.adress1, { 'attr': {'class': 'col-md-12 center title','tabindex':'12'}}) }}
            {{ form_widget(edit_form.place.adress2, { 'attr': {'class': 'col-md-12 center','tabindex':'13'}}) }}
            {{ form_widget(edit_form.place.city, { 'attr': {'class': 'col-md-6 center','tabindex':'14'}}) }}
            {{ form_widget(edit_form.place.cp, { 'attr': {'class': 'col-md-push-1 col-md-5 center','tabindex':'15'}}) }}
            {{ form_widget(edit_form.place.country, { 'attr': {'class': 'col-md-push-3 col-md-6 center','tabindex':'16'}}) }}
          </div>
        </div>
        <div class="col-md-12 center links">
          <hr>
          <h4>Fichiers</h4>
          {{ form_widget(edit_form.images, { 'attr': {'class': 'col-md-12','tabindex':'17'} }) }}
          <strong class="col-md-12">Ajouter des fichiers annexes</strong>
          {{ form_widget(edit_form.uploadedFiles, { 'attr': {'class': 'col-md-12','tabindex':'18'} }) }}
        </div>
      </div>

    </div>

  </div>

  <div class="row">
    <hr>

    <div class="col-md-push-3 col-md-6 center">
      <div class="col-md-6">
        <a class="btn btn-default btn-return" href="{{ path('event') }}">
          Retour à la liste des événements
        </a>
      </div>
      <div class="col-md-6">
        {{ form_row(edit_form.submit,{ 'attr':  { 'class':'btn-submit center','label': 'Publier','tabindex':'22' }}) }}
    </div>
  </div>

  {{ form_end(edit_form) }}
</div>

{% else %}
Vous ne pouvez pas modifier cette évenement.
{% endif %}
</div>
{% endblock %}
{% block javascripts %}
{{ parent() }}
<script src="{{ asset('js/addLinks.js')}}" type="text/javascript"></script>
{% endblock %}
