{% extends '::base.html.twig' %}

{% block body -%}

    <h1 style="margin-top:10%">Event edit</h1>
    {% if (entity.author == app.user.username or is_granted("ROLE_SUPER_ADMIN")) %}
    <div class="row">
      <h1>Publier un événement</h1>
    </div>
    <div class="row">
      {{ form_start(edit_form) }}
      <div class="col-md-12">
        <h4>Contact de l'évènement</h4>
        <div class="row">
          <div class="col-md-1">
            {{ form_widget(edit_form.contact_name, { 'attr': {'class': 'inline contact_name', 'placeholder': 'Nom du contact'} })  }}
          </div>
          <div class="col-md-1 col-md-push-1">
            {{ form_widget(edit_form.contact_email, { 'attr': {'class': 'inline contact_email', 'placeholder': 'Email du contact'} }) }}
          </div>
          <div class="col-md-1 col-md-push-8">
            {{ form_widget(edit_form.author,{ 'attr': {'value': app.user.username, 'readonly':'readonly'}} ) }}
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6 description">
        <h4>Description</h4>
        <div class="row">
          <div class="col-md-4">
            {{ form_widget(edit_form.sector, { 'attr': {'class': 'btn btn-default col-md-12'}}) }}
          </div>
          <div class="col-md-4">
            {{ form_widget(edit_form.publics, { 'attr': {'class': 'btn btn-default col-md-12'}}) }}
          </div>
          <div class="col-md-4">
            {{ form_widget(edit_form.type, { 'attr': {'class': 'btn btn-default col-md-12'}}) }}
          </div>
          <div class="col-md-12">
            {{ form_widget(edit_form.title, { 'attr': {'id': 'title','class':'col-md-12 title', 'placeholder': 'Titre*'}}) }}
          </div>
          <div class="col-md-12">
            {{ form_widget(edit_form.description, { 'attr': {'class': 'inline col-md-12', 'placeholder': 'Description*'}}) }}
          </div>
          <div class="col-md-12">
            {{ form_errors(edit_form.contact_name, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
            {{ form_errors(edit_form.contact_email, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
            {{ form_errors(edit_form.dateStart, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
            {{ form_errors(edit_form.dateEnd, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
            {{ form_errors(edit_form.title, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
            {{ form_errors(edit_form.description, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
            {{ form_errors(edit_form.place, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
            {{ form_errors(edit_form.links, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
            {{ form_errors(edit_form.images, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
            {{ form_errors(edit_form.uploadedFiles, { 'attr': {'class':'list-group-item list-group-item-danger'}}) }}
          </div>
          <div class="col-md-3">
            <span class="big-label"> À la une </span>
            {{ form_widget(edit_form.headlines, { 'attr': {'label':'À la une'} }) }}
          </div>
          <div class="col-md-2 col-md-push-7">
            {{ form_row(edit_form.submit,{ 'attr':  { 'class':'btn btn-default','label': 'Publier' }}) }}
          </div>
        </div>
      </div>
      <div class="col-md-4 col-md-push-1 detail">
        <div class="row">
          <div class="col-md-12">
            <h4 class="col-md-12">Détails</h4>
            <div class="col-md-12">
              {{ form_widget(edit_form.place, { 'attr': {'class': 'col-md-8', 'placeholder': 'Lieux*'}}) }}
            </div>
            <h6 class="col-md-12">Date de début*</h6>
            {{ form_widget(edit_form.dateStart, { 'attr': {'class': 'col-md-12'} }) }}
            <h6 class="col-md-12">Date de fin*</h6>
            {{ form_widget(edit_form.dateEnd, { 'attr': {'class': 'col-md-12'} }) }}
          </div>
          <div class="col-md-12">
            {{ form_widget(edit_form.images, { 'attr': {'class': 'col-md-12'} }) }}
            <h5 class="col-md-12">Ajouter des fichiers annexes</h5>
            {{ form_widget(edit_form.uploadedFiles, { 'attr': {'class': 'col-md-12'} }) }}
            {{ form_widget(edit_form.links, { 'attr': {'class': 'col-md-12 links', 'placeholder': 'Liens'}}) }}
          </div>
        </div>
      </div>
    </div>
    {{ form_end(edit_form) }}
        <ul class="record_actions">
    <li>
        <a href="{{ path('event') }}">
            {#{{authors}}#}
        </a>
    </li>
    <li>{{ form(delete_form) }}</li>

</ul>
{% else %}
Vous ne pouvez pas modifier cette évenement.
{% endif %}
{% endblock %}
